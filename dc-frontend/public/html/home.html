<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Home</title>
	<link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
	<link href="css/local.css" rel="stylesheet">
	<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
	<script src="http://static.runoob.com/assets/jquery-validation-1.14.0/dist/jquery.validate.min.js"></script>
	<script src="https://cdn.bootcss.com/jquery-loading-overlay/2.1.3/loadingoverlay.min.js"></script>
	<script src="http://static.runoob.com/assets/jquery-validation-1.14.0/dist/localization/messages_zh.js"></script>
	<script src="https://cdn.bootcss.com/jsrender/1.0.0-rc.70/jsrender.min.js"></script>
	<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <!--<script src="https://cdn.bootcss.com/vue/2.5.17-beta.0/vue.min.js"></script>-->
	<script src="js/local.js"></script>
</head>
<body>
<nav class="navbar navbar-fixed-top" role="navigation">
      <div class="container">
        <a class="navbar-brand tag-btn" data-toggle="collapse" href="#menu-bar">数据采集</a>
        <ul class="nav navbar-nav navbar-right">
            <li><a target="_blank" href="softwareManuals.pdf" >帮助</a></li>
        </ul>
      </div>
</nav>
<div class="empty-to-fixed"></div>
<div class="collapse in" id="menu-bar" >
			<ul class="nav nav-tabs nav-line">
				<li ><a id="request-btn" href="#request" data-toggle="tab">需求</a></li>
				<li ><a id="crawling-btn" href="#crawling" data-toggle="tab">采集</a></li>
				<li ><a id="monitor-btn" href="#monitor" data-toggle="tab">监控</a></li>
				<li ><a id="delivery-btn" href="#delivery" data-toggle="tab">交付</a></li>
				<li ><a id="config-btn" href="#config" data-toggle="tab">设置</a></li>
			</ul>
</div>
<div class="tab-content main-content">
	<div id="request" class="tab-pane active">
		<div class="container-fluid">
			<div class="row">
				<div class="col-xs-3 text-center">
					<ul class="nav nav-pills nav-stacked">
						<li>
							<a id="new-request-btn" href="#new-request" data-toggle="pill">新建需求</a>
						</li>
						<li>
							<a id="request-confirm-btn" href="#request-confirm" data-toggle="pill">需求确认</a>
						</li>
						<li>
							<a id="site-resource-btn" href="#site-resource" data-toggle="pill">站点资源</a>
						</li>
					</ul>
				</div>
				<div class="col-xs-9 tab-content">
					<div id="new-request" class="tab-pane">
						<form class="form-horizontal" id="request-form">
							<div class="form-group">
							  <label for="request-name" class="col-xs-2 control-label">需求名称</label>
								<div class="col-xs-8 has-valid">
									<input required type="text" class="form-control" id="request-name" placeholder="">
								</div>
							</div>
							<div class="form-group">
								<label for="request-desc" class="col-xs-2 control-label">需求描述</label>
								<div class="col-xs-8" style="height:80px;">
									<textarea id="request-desc" cols="30" rows="3" class="form-control"></textarea>
								</div>
							</div>
							<div class="form-group">
								<div class="col-xs-offset-2 col-xs-10">
									<button id="request-submit" class="btn btn-primary">提交</button>
								</div>
							</div>
						</form>
					</div>
					<div id="request-confirm" class="tab-pane">
						<table class="table table-striped table-hover">
							<caption>需求列表</caption>
							<thead>
								<tr>
									<th>编号</th>
									<th>名称</th>
									<th>描述</th>
									<th>创建时间</th>
									<th>操作</th>
								</tr>
							</thead>
							<script id="request-list" type="text/x-jsrender">
							{{for content}}
								<tr>
									<th class="request-id">{{:requestID}}</th>
									<th>{{:requestName}}</th>
									<th>{{:requestDesc}}</th>
									<th>{{:createdTime}}</th>
									<th><a class="change-request" href="#edit-request" data-toggle="pill">修改</a></th>
								</tr>
							{{/for}}
							</script>
							<tbody id="request-list-content">
							</tbody>
						</table>
					</div>
					<div id="edit-request" class="tab-pane">
						<form class="form-horizontal" id="confirm-request-form">
							<input class="hidden" type="text" id="confirm-request-id" value="">
							<div class="form-group">
							  <label for="request-name" class="col-xs-2 control-label">需求名称</label>
								<div class="col-xs-8 has-valid">
									<input required type="text" class="form-control" id="confirm-request-name" placeholder="">
								</div>
							</div>
							<div class="form-group">
								<label for="request-desc" class="col-xs-2 control-label">需求描述</label>
								<div class="col-xs-8">
									<textarea id="confirm-request-desc" cols="30" rows="3" class="form-control"></textarea>
								</div>
							</div>
							<div class="form-group">
								<div class="col-xs-offset-2 col-xs-8">
									<button type="submit" class="btn btn-primary">提交</button>
									<button class="btn btn-default return-btn">返回</button>
								</div>
							</div>
						</form>
					</div>
					<div id="site-resource" class="tab-pane">
						<table class="table table-striped table-hover">
							<caption>网站信息</caption>
							<thead>
								<tr>
									<th>编号</th>
									<th>URL</th>
									<th>类型</th>
									<th>驱动</th>
									<th>创建时间</th>
								</tr>
							</thead>
							<script id="site-list" type="text/x-jsrender">
							{{for content}}
								{{if usable=='true'}}
								<tr>
									<th>{{:taskID}}</th>
									<th>{{:siteURL}}</th>
									<th>
										{{if runningMode=='unstructed'}}
											文本型
										{{else runningMode=='structed'}}
											结构型
										{{else}}
											未知
										{{/if}}
									</th>
									<th>
										{{if driver=='true'}}
											是
										{{else driver=='false'}}
											否
										{{else}}
											未知
										{{/if}}
									</th>
									<th>{{:createtime}}</th>
								</tr>
								{{/if}}

							{{/for}}
							</script>
							<tbody id="site-list-content"></tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div id="crawling" class="tab-pane">
		<div class="container-fluid">
			<div class="row">
				<div class="col-xs-3 text-center">
					<ul class="nav nav-pills nav-stacked">
						<li>
							<a id="new-task-btn" href="#new-task" data-toggle="pill">任务确立</a>
						</li>
						<li>
							<a id="paser-rule-btn" href="#paser-rule" data-toggle="pill">URL解析规则</a>
						</li>
						<li>
							<a id="content-extract-btn" href="#content-extract" data-toggle="pill">内容抽取</a>
						</li>
						<li>
							<a id="task-monitor-btn" href="#task-monitor" data-toggle="pill">任务调度</a>
						</li>
					</ul>
				</div>
				<div class="col-xs-9 tab-content">
					<div id="new-task" class="tab-pane">
						<form class="form-horizontal" id="task-form">
							<div class="form-group">
								<label for="task-name" class="col-xs-2 control-label">任务名称</label>
								<div class="col-xs-6 has-valid">
									<input required type="text" class="form-control" id="task-name">
								</div>
							</div>
							<div class="form-group">
								<label class="col-xs-2 control-label">运行模式</label>
								<div class="col-xs-6">
									<label class="radio-inline">
										<input type="radio" name="running-mode" value="structed">结构型</input>
									</label>
									<label class="radio-inline">
										<input type="radio" name="running-mode" value="unstructed">非结构型</input>
									</label>
								</div>
							</div>
							<div class="form-group" id="driver-select-group">
								<label class="col-xs-2 control-label">驱动选择</label>
								<div class="col-xs-6">
									<label class="radio-inline">
										<input type="radio" name="driver-select" value="true">使用浏览器驱动</input>
									</label>
									<label class="radio-inline">
										<input type="radio" name="driver-select" value="false">不使用浏览器驱动</input>
									</label>
								</div>
							</div>
							<div class="form-group">
								<label for="work-path" class="col-xs-2 control-label">工作路径</label>
								<div class="col-xs-6 has-valid">
									<input required id="work-path" type="text" class="form-control" placeholder="以/为分割符，并以/结尾">
								</div>
							</div>
							<div class="form-group">
								<div class="col-xs-offset-2 col-xs-6">
									<button id="task-submit" class="btn btn-primary">提交</button>
								</div>
							</div>
						</form>
					</div>
					<div id="paser-rule" class="tab-pane">
						<table class="table table-striped table-hover">
							<caption>解析规则列表</caption>
							<thead>
								<tr>
									<th>编号</th>
									<th>任务名称</th>
									<th>URL</th>
									<th>类型</th>
									<th>驱动</th>
									<th>可用性</th>
									<th>操作</th>
								</tr>
							</thead>
							<script id="rule-list" type="text/x-jsrender">
								{{for content}}
									<tr>
										<th class="rule-id">{{:taskID}}</th>
										<th>{{:taskName}}</th>
										<th>{{:siteURL}}</th>
										<th name="running-mode">
											{{if runningMode=='unstructed'}}
												文本型
											{{else runningMode=='structed'}}
												结构型
											{{else}}
												未知
											{{/if}}
										</th>
										<th name="driver">
											{{if driver=='true'}}
												是
											{{else driver=='false'}}
												否
											{{else}}
												未知
											{{/if}}
										</th>
										<th>
											{{if usable=='true'}}
												可用
											{{else usable=='false'}}
												不可用
											{{else}}
												未知
											{{/if}}
										</th>
										<th><a class="change-rule" href="#edit-rule" data-toggle="pill">修改</a></th>
									</tr>
								{{/for}}
							</script>
							<tbody id="rule-list-content"></tbody>
						</table>
					</div>
					<div id="edit-rule" class="tab-pane">
						<ul class="nav nav-tabs">
							<li>
								<a class="param-config-btn" id="url-param-config-btn" href="#url-param-config" data-toggle="tab">URL参数配置</a>
							</li>
							<li>
								<a class="param-config-btn" id="login-param-config-btn" href="#login-param-config" data-toggle="tab">登录参数配置</a>
							</li>
							<li>
								<a class="param-config-btn" id="download-param-config-btn" href="#download-param-config" data-toggle="tab">下载参数配置</a>
							</li>
						</ul>
						<div class="tab-content" style="margin-top:50px;">
							<div id="url-param-config" class="tab-pane">
								<form id="unstructed-undriver" class="form-horizontal rule-config-form" style="display:none;">
									<input type="text" class="hidden rule-id">
									<div class="form-group">
										<label for="site-link" class="control-label col-xs-2">网站链接</label>
										<div class="col-xs-6 has-valid">
											<input required name="site-link" type="text" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<div class="form-title">搜索链接配置</div>
										<label for="search-link" class="control-label col-xs-2">搜索栏链接</label>
										<div class="col-xs-6 has-valid">
											<input required name="search-link" type="text" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="keyword-name" class="control-label col-xs-2">关键词参数名称</label>
										<div class="col-xs-6 has-valid">
											<input required type="text" name="keyword-name" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="page-name" class="control-label col-xs-2">分页参数名称</label>
										<div class="col-xs-6 has-valid">
											<input required type="text" name="page-name" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="page-value" class="control-label col-xs-2">开始页面号</label>
										<div class="col-xs-6 has-valid">
											<input required type="text" name="page-value" placeholder="开始查询页面的页号" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="other-param-name" class="control-label col-xs-2">其他参数名称列表</label>
										<div class="col-xs-6">
											<input type="text" name="other-param-name" placeholder="其他参数的名称, 用','分开" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="other-param-value" class="control-label col-xs-2">其他参数值列表</label>
										<div class="col-xs-6">
											<input type="text" name="other-param-value" placeholder="其他参数的值, 用','分开" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<div class="col-xs-offset-2 col-xs-6">
											<button type="submit" class="btn btn-primary">提交</button>
											<button class="btn btn-default return-btn">返回</button>
										</div>
									</div>

								</form>
								<form id="structed-undriver" class="form-horizontal rule-config-form" style="display:none;">
									<input type="text" class="hidden rule-id">
									<div class="form-group">
										<label for="site-link" class="control-label col-xs-2">网站链接</label>
										<div class="col-xs-6 has-valid">
											<input required name="site-link" type="text" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<div class="form-title">搜索链接配置</div>
										<label for="search-link" class="control-label col-xs-2">搜索栏链接</label>
										<div class="col-xs-6 has-valid">
											<input required name="search-link" type="text" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="keyword-name" class="control-label col-xs-2">关键词参数名称</label>
										<div class="col-xs-6 has-valid">
											<input required type="text" name="keyword-name" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="page-name" class="control-label col-xs-2">分页参数名称</label>
										<div class="col-xs-6 has-valid">
											<input required type="text" name="page-name" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="page-value" class="control-label col-xs-2">开始页面号</label>
										<div class="col-xs-6 has-valid">
											<input required type="text" name="page-value" placeholder="开始查询页面的页号" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="other-param-name" class="control-label col-xs-2">其他参数名称列表</label>
										<div class="col-xs-6 has-valid">
											<input type="text" name="other-param-name" placeholder="其他参数的名称, 用','分开" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="other-param-value" class="control-label col-xs-2">其他参数值列表</label>
										<div class="col-xs-6 has-valid">
											<input type="text" name="other-param-value" placeholder="其他参数的值, 用','分开" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="attr-value" class="control-label col-xs-2">属性值</label>
										<div class="col-xs-6 has-valid">
											<input type="text" name="attr-value" placeholder="查询的属性值" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<div class="col-xs-offset-2 col-xs-6">
											<button type="submit" class="btn btn-primary">提交</button>
											<button class="btn btn-default return-btn">返回</button>
										</div>
									</div>

								</form>
								<form id="structed-driver" class="form-horizontal rule-config-form" style="display:none;">
									<input type="text" class="hidden rule-id">
									<div class="form-group">
										<label for="site-link" class="control-label col-xs-2">网站链接</label>
										<div class="col-xs-6 has-valid">
											<input required name="site-link" type="text" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<div class="form-title">搜索页面配置</div>
										<label for="nav-iframe" class="control-label col-xs-2">导航窗口的iframe</label>
										<div class="col-xs-6 has-valid">
											<input required name="nav-frame" type="text" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="nav-value" class="control-label col-xs-2">导航窗口的value</label>
										<div class="col-xs-6 has-valid">
											<input required type="text" name="nav-value" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="search-iframe" class="control-label col-xs-2">查询模块的iframe</label>
										<div class="col-xs-6 has-valid">
											<input required type="text" name="search-iframe" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="search-btn" class="control-label col-xs-2">查询按钮</label>
										<div class="col-xs-6 has-valid">
											<input required type="text" name="search-btn" placeholder="查询按钮" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="res-row-name" class="control-label col-xs-2">结果行名称</label>
										<div class="col-xs-6 has-valid">
											<input required type="text" name="res-row-name" placeholder="结果行名称" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="next-pg-xpath" class="control-label col-xs-2">下一页Xpath</label>
										<div class="col-xs-6 has-valid">
											<input required type="text" name="next-pg-xpath" placeholder="下一页的xpath" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="cur-pg-xpath" class="control-label col-xs-2">当前页Xpath</label>
										<div class="col-xs-6 has-valid">
											<input required type="text" name="cur-pg-xpath" placeholder="当前页Xpath" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="sub-pg-iframe" class="control-label col-xs-2">子页iframe</label>
										<div class="col-xs-6 has-valid">
											<input required type="text" name="sub-pg-iframe" placeholder="子页的iframe" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="dropdown-list-class-name" class="control-label col-xs-2">下拉列表框class name</label>
										<div class="col-xs-6 has-valid">
											<input required type="text" name="dropdown-list-class-name" placeholder="下拉列表框的class name" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label class="control-label col-xs-2">登录按钮</label>
										<div class="col-xs-6 has-valid">
											<input name="login-button" type="text" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="other-param-name" class="control-label col-xs-2">其他参数名称列表</label>
										<div class="col-xs-6">
											<input type="text" name="other-param-name" placeholder="其他参数的名称, 用','分开" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="other-param-value" class="control-label col-xs-2">其他参数值列表</label>
										<div class="col-xs-6">
											<input type="text" name="other-param-value" placeholder="其他参数的值, 用','分开" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<div class="col-xs-offset-2 col-xs-6">
											<button type="submit" class="btn btn-primary">提交</button>
											<button class="btn btn-default return-btn">返回</button>
										</div>
									</div>

								</form>
							</div>
							<div id="login-param-config" class="tab-pane">
								<form class="form-horizontal rule-config-form" id="login-param-form">
									<input type="text" class="hidden rule-id">
									<div class="form-group">
										<label for="login-link" class="control-label col-xs-2">登录界面链接</label>
										<div class="col-xs-6 has-valid">
											<input required name="login-link" type="text" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="username-id" class="control-label col-xs-2">用户名输入框ID</label>
										<div class="col-xs-6 has-valid">
											<input required name="username-id" type="text" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="password-id" class="control-label col-xs-2">密码输入框ID</label>
										<div class="col-xs-6 has-valid">
											<input required name="password-id" type="text" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="username" class="control-label col-xs-2">用户名</label>
										<div class="col-xs-6 has-valid">
											<input required name="username" type="text" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="password" class="control-label col-xs-2">密码</label>
										<div class="col-xs-6 has-valid">
											<input required name="password" type="text" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<div class="col-xs-offset-2 col-xs-6">
											<button type="submit" class="btn btn-primary">提交</button>
											<button class="btn btn-default return-btn">返回</button>
										</div>
									</div>
								</form>
							</div>
							<div id="download-param-config" class="tab-pane">
								<form class="rule-config-form form-horizontal" id="download-param-form">
									<input type="text" class="hidden rule-id">
									<div class="form-group">
										<label for="thread-num" class="control-label col-xs-2">线程总数</label>
										<div class="col-xs-6 has-valid">
											<input required name="thread-num" type="number" max="100" min="5" class="form-control">
										</div>
									</div>
									<div class="form-group">
										<label for="timeout-num" class="control-label col-xs-2">超时时间</label>
										<div class="col-xs-6 input-group local-input-group">
											<input required name="timeout-num" type="number" max="60000" min="1000" class="form-control">
											<div class="input-group-addon">毫秒</div>
										</div>
									</div>
									<div class="form-group">
										<label for="charset" class="control-label col-xs-2">编码格式</label>
										<div class="col-xs-6 has-valid">
											<input required name="charset" type="text" class="form-control">
										</div>
									</div>
									<div class="form-group">
			    					<label for="data-gross" class="col-sm-2 control-label">数据总量</label>
			    					<div class="col-xs-6">
			      					<input type="number" class="form-control" name="data-gross" name="databaseSize" placeholder = "目标网站的待爬数据量">
			    					</div>
			  					</div>
									<div class="form-group">
										<div class="col-xs-offset-2 col-xs-6">
											<button type="submit" class="btn btn-primary">提交</button>
											<button class="btn btn-default return-btn">返回</button>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
					<div id="content-extract" class="tab-pane">
						<ul class="nav nav-tabs">
							<li>
								<a href="#template-list-table" id="template-list-btn" data-toggle="tab">模版列表</a>
							</li>
							<li>
								<a href="#new-template" id="new-template-btn" data-toggle="tab">新建模版</a>
							</li>
						</ul>
						<div class="tab-content" style="margin-top:50px;">
							<div class="tab-pane" id="template-list-table">
								<table class="table table-striped table-hover">
									<thead>
										<tr>
											<th>任务编号</th>
											<th>任务名称</th>
											<th>模版编号</th>
											<th>模版名称</th>
											<th>模版类型</th>
											<th>操作</th>
										</tr>
									</thead>
									<script id="template-list" type="text/x-jsrender">
										{{for content}}
										<tr>
											<th name="rule-id">{{:taskID}}</th>
											<th>{{:taskName}}</th>
											<th name="template-id">{{:templateID}}</th>
											<th>{{:templateName}}</th>
											<th>{{:templateType}}</th>
											<th><a class="change-template" href="#edit-template" data-toggle="pill">修改</a></th>
										</tr>
										{{/for}}
									</script>
									<tbody id="template-list-content"></tbody>
								</table>
							</div>
							<div class="tab-pane" id="new-template">
								<form class="form-horizontal" id="new-template-form">
									<div class="form-group">
										<label class="col-sm-2 control-label">绑定任务</label>
										<div class="col-sm-6 has-valid">
											<script type="text/x-jsrender" id="task-id-list">
												{{for content}}
												<option value="{{:taskID}}">{{:taskName}}</option>
												{{/for}}
											</script>
											<select required class="form-control" name="task-id" id="task-id-list-content">

											</select>
										</div>
									</div>
									<div class="form-group">
					    			<label class="col-sm-2 control-label">模板名称</label>
					    			<div class="col-sm-6 has-valid">
					      			<input required type="text" class="form-control" name="pattern-name" placeholder="模板的名称">
					    			</div>
					  			</div>
					  			<div class="form-group">
					    			<label class="col-sm-2 control-label">模板类型</label>
					    			<div class="col-sm-6 has-valid">
					      			<input type="text" class="form-control" name="pattern-type" placeholder="决定选取算法的类型">
					    			</div>
					  			</div>
									<div class="form-group">
					    			<label class="col-sm-2 control-label">模板Xpath</label>
					    			<div class="col-sm-6 has-valid">
					      			<input required type="text" class="form-control" name="pattern-xpath" placeholder="模板的xpath, 如果超过一个xpath，用'#'分开">
					    			</div>
					  			</div>
					  			<div class="form-group">
					    			<label class="col-sm-2 control-label">表头Xpath</label>
					    			<div class="col-sm-6 has-valid">
					      			<input type="text" class="form-control" name="pattern-title-xpath" placeholder="模板在页面表头中的xpath, 如果超过一个xpath，用'#'分开">
					    			</div>
					  			</div>
					  			<div class="form-group">
					    			<label class="col-sm-2 control-label">表格组合公式</label>
					    			<div class="col-sm-6 has-valid">
					      			<input type="text" class="form-control" name="pattern-formula" placeholder="表格组合公式">
					    			</div>
					  			</div>
					  			<div class="form-group">
					    			<div class="col-sm-offset-2 col-sm-6">
					      			<button type="submit" class="btn btn-primary">提交</button>
					    			</div>
					  			</div>
								</form>
							</div>
							<div id="edit-template" class="tab-pane">
								<form class="form-horizontal" id="change-template-form">
									<input name="template-id" class="hidden">
									<input name="task-id" class="hidden">
									<div class="form-group">
					    			<label class="col-sm-2 control-label">模板名称</label>
					    			<div class="col-sm-6">
											<p class="form-control-static" name="pattern-name"></p>
					    			</div>
					  			</div>
					  			<div class="form-group">
					    			<label class="col-sm-2 control-label">模板类型</label>
					    			<div class="col-sm-6 has-valid">
					      			<input type="text" class="form-control" name="pattern-type" placeholder="决定选取算法的类型">
					    			</div>
					  			</div>
									<div class="form-group">
					    			<label class="col-sm-2 control-label">模板Xpath</label>
					    			<div class="col-sm-6 has-valid">
					      			<input required type="text" class="form-control" name="pattern-xpath" placeholder="模板的xpath, 如果超过一个xpath，用'#'分开">
					    			</div>
					  			</div>
					  			<div class="form-group">
					    			<label class="col-sm-2 control-label">表头Xpath</label>
					    			<div class="col-sm-6 has-valid">
					      			<input type="text" class="form-control" name="pattern-title-xpath" placeholder="模板在页面表头中的xpath, 如果超过一个xpath，用'#'分开">
					    			</div>
					  			</div>
					  			<div class="form-group">
					    			<label class="col-sm-2 control-label">表格组合公式</label>
					    			<div class="col-sm-6 has-valid">
					      			<input type="text" class="form-control" name="pattern-formula" placeholder="表格组合公式">
					    			</div>
					  			</div>
					  			<div class="form-group">
					    			<div class="col-sm-offset-2 col-sm-6">
					      			<button type="submit" class="btn btn-primary">提交</button>
											<button class="btn btn-default return-btn">返回</button>
					    			</div>
					  			</div>
								</form>
							</div>
						</div>

					</div>
					<div id="task-monitor" class="tab-pane">
						<table class="table table-striped table-hover">
							<caption>任务列表</caption>
							<thead>
								<tr>
									<th>编号</th>
									<th>任务名称</th>
									<th>URL</th>
									<th>运行模式</th>
									<th>驱动</th>
									<th>操作</th>
								</tr>
							</thead>
							<script type="text/x-jsrender" id="task-control-list">
							{{for content}}
							<tr>
								<th class="task-id">{{:taskID}}</th>
								<th>{{:taskName}}</th>
								<th>{{:siteURL}}</th>
								<th>
								{{if runningMode=='unstructed'}}
									文本型
								{{else runningMode=='structed'}}
									结构型
								{{else}}
									未知
								{{/if}}
								</th>
								<th>
								{{if driver=='true'}}
									是
								{{else driver=='false'}}
									否
								{{else}}
									未知
								{{/if}}
								</th>
								<th>
									<a class="crawler-control-btn" name="start">启动</a>
									/
									<a class="crawler-control-btn" name="stop">停止</a>
								</th>
							</tr>
							{{/for}}
							</script>
							<tbody id="task-control-list-content"></tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div id="monitor" class="tab-pane">
		<div class="container-fluid">
			<div class="row">
				<div class="col-xs-3 text-center">
					<ul class="nav nav-pills nav-stacked">
						<li>
							<a id="task-crawling-monitor-btn" href="#task-crawling-monitor" data-toggle="pill">任务采集监控</a>
						</li>
						<li>
							<a href="#task-extract-monitor" data-toggle="pill">任务抽取监控</a>
						</li>
					</ul>
				</div>
				<div class="col-xs-9 tab-content">
					<div id="task-crawling-monitor" class="tab-pane">
						<table class="table table-striped table-hover">
							<caption>任务采集列表</caption>
							<thead>
								<tr>
									<th>编号</th>
									<th>任务名称</th>
									<th>所处轮次</th>
									<th>失败查询链接数</th>
									<th>失败数据链接数</th>
									<th>已下载数据量</th>
									<th>爬取比例</th>
									<th>任务状态</th>
								</tr>
							</thead>
							<script type="text/x-jsrender" id="task-monitor-list">
								{{for content}}
								<tr>
									<th name="task-id">{{:taskID}}</th>
									<th>{{:taskName}}</th>
									<th name="round">{{:round}}</th>
									<th name="f-querylink-num">{{:fQueryLinkSum}}</th>
									<th name="f-infolink-num">{{:fInfoLinkSum}}</th>
									<th name="sampledata-num">{{:sampleDataSum}}</th>
									<th name="crawl-ratio">{{:crawlRatio}}</th>
									<th name="status">{{:status}}</th>
								</tr>
								{{/for}}
							</script>
							<tbody id="task-monitor-list-content"></tbody>
						</table>
					</div>
					<div id="task-extract-monitor" class="tab-pane">

					</div>
				</div>
			</div>
		</div>
	</div>
	<div id="delivery" class="tab-pane">
		<div class="container-fluid">
			<div class="row">
				<div class="col-xs-3"></div>
				<div class="col-xs-9">
					<table class="table table-striped table-hover">
						<caption>交付列表</caption>
						<thead>
							<tr>
								<th>编号</th>
								<th>交付任务</th>
								<th>运行模式</th>
								<th>驱动</th>
								<th>查看</th>
							</tr>
						</thead>
						<script type="text/x-jsrender" id="delivery-task-list">
						{{for content}}
						<tr>
							<th class="task-id">{{:taskID}}</th>
							<th>{{:taskName}}</th>
							<th>
							{{if runningMode=='unstructed'}}
								文本型
							{{else runningMode=='structed'}}
								结构型
							{{else}}
								未知
							{{/if}}
							</th>
							<th>
							{{if driver=='true'}}
								是
							{{else driver=='false'}}
								否
							{{else}}
								未知
							{{/if}}
							</th>
							<th>
								<a class="see-delivery-task-btn" data-toggle="modal" data-target="#delivery-modal">查看</a>
							</th>
						</tr>
						{{/for}}
						</script>
						<tbody id="delivery-task-list-content"></tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
	<div id="config" class="tab-pane">
		<div class="container-fluid">
			<div class="row">
				<div class="col-xs-3 text-center">
					<ul class="nav nav-pills nav-stacked">
						<li>
							<a id="db-config-btn" href="#db-config" data-toggle="pill">数据库配置</a>
						</li>
						<li>
							<a href="#other-config" data-toggle="pill">其他配置</a>
						</li>
					</ul>
				</div>
				<div class="col-xs-9 tab-content">
					<div id="db-config" class="tab-pane">
						<form class="form-horizontal" id="db-form">
							<div class="form-group">
								<label for="mysql-url" class="col-xs-2 control-label">数据库链接</label>
								<div class="col-xs-6 has-valid">
									<input required type="text" class="form-control" id="mysql-url">
								</div>
							</div>
							<div class="form-group">
								<label for="mysql-username" class="col-xs-2 control-label">数据库用户名</label>
								<div class="col-xs-6 has-valid">
									<input required type="text" class="form-control" id="mysql-username">
								</div>
							</div>
							<div class="form-group">
								<label for="mysql-password" class="col-xs-2 control-label">数据库密码</label>
								<div class="col-xs-6 has-valid">
									<input required type="text" class="form-control" id="mysql-password">
								</div>
							</div>
							<div class="form-group">
								<div class="col-xs-offset-2 col-xs-6">
									<button id="db-submit" class="btn btn-primary">提交</button>
								</div>
							</div>
						</form>
					</div>
					<div id="other-config" class="tab-pane"></div>
				</div>
			</div>
		</div>
	</div>
</div>
<!--以下为模态框html代码位置-->
<div class="modal fade bs-example-modal-lg" id="delivery-modal" tabindex="-1" role="dialog" aria-labelledby="delivery-modal-label">
	<div class="modal-dialog modal-lg" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<h4 class="modal-title" id="delivery-modal-label">交付任务</h4>
			</div>
			<div class="modal-body">
				<div class="modal-line container-fluid">
					<div class="col-xs-2"></div>
					<label class="col-xs-2 text-center">表格名称</label>
					<div class="col-xs-4">
						<script type="text/x-jsrender" id="table-name-list">
						{{for content}}
						<option value="{{:tableName}}">{{:tableName}}</option>
						{{/for}}
						</script>
						<select name="tableName" id="table-name-list-content">
							<option value="website">website</option>
							<option value="status">status</option>
							<option value="current">current</option>
							<option value="pattern">pattern</option>
						</select>
					</div>
					<div class="col-xs-2"><div class="btn btn-default btn-xs" id="table-data-search-btn">搜索</div></div>
					<div class="col-xs-2"></div>
				</div>
				<div class="modal-line container-fluid table-responsive">
					<script type="text/x-jsrender" id="table-data-list">
						<thead>
							<tr>
							{{for headContent}}
								<th>{{:}}</th>
							{{/for}}
							</tr>
						</thead>
						<tbody>
							{{for bodyContent}}
								<tr>
									{{for :}}
										<th>{{:}}</th>
									{{/for}}
								</tr>
							{{/for}}
						</tbody>

					</script>
					<table class="table" id="table-data-list-content"></table>

				</div>
				<div class="modal-line text-center">
					<nav aria-label="Page navigation">
						<ul class="pager">
							<li class="previous"><a id="pre-pg-btn"><span aria-hidden="true">&larr;</span> Older</a></li>
							<li class="next"><a id="next-pg-btn">Newer <span aria-hidden="true">&rarr;</span></a></li>
						</ul>
					</nav>
				</div>
			</div>
		</div>
	</div>
</div>
<!--<div class="footer">-->
	<!--<div class="container">-->
  	<!--<p class="text-muted"style="text-align:center">中央财经大学<br/>-->
    	<!--地址：北京市海淀区学院南路39号<br/>-->
      <!--联系方式: dayanking@gmail.com-->
    <!--</p>-->
  <!--</div>-->
<!--</div>-->
</body>
</html>
